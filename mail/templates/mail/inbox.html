{% extends "mail/layout.html" %}
{% load static %}

{% block body %}
<div class="container my-1">
    <div class="row d-flex justify-content-center">
        <div class="card col-sm-12 shadow bg-white rounded-lg">
            <div class="my-2">
                <div class="my-2">
                    <h4>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-envelope-fill"
                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z" />
                        </svg>
                        {{ request.user.email }}
                    </h4>
                </div>
                <div class="mt-4 p-3 bg-light border rounded-lg shadow-sm">
                    <button class="my-1 btn alert-primary shadow-sm font-weight-bolder" id="inbox">Inbox</button>
                    <button class="my-1 btn alert-primary shadow-sm font-weight-bolder" id="compose">Compose</button>
                    <button class="my-1 btn alert-primary shadow-sm font-weight-bolder" id="sent">Sent</button>
                    <button class="my-1 btn alert-primary shadow-sm font-weight-bolder" id="archived">Archived</button>
                    <a class="my-1 btn btn alert-danger shadow-sm font-weight-bolder" href="{% url 'logout' %}">Log Out</a>
                </div>

                <div class="mt-4 mb-2" id="emails-view"></div>

                <div class="mt-4 mb-3" id="compose-view">
                    <form id="compose-form" enctype="multipart/form-data">
                        <div class="form-group">From
                            <input id="from" disabled value="{{ request.user.email }}" class="form-control">
                        </div>
                        <div class="form-group">To
                            <input id="compose-recipients" class="form-control">
                        </div>
                        <div class="form-group">
                            <input id="compose-subject" class="form-control" placeholder="Subject">
                        </div>
                        <div class="form-group">
                            <textarea id="compose-body" class="form-control" placeholder="Body" rows="5"></textarea>
                        </div>
                        <div class="mt-4 mb-2">
                            <input type="submit" class="btn btn-block alert-primary shadow-sm font-weight-bolder" />
                        </div>
                    </form>
                </div>

                <div class="m-0 p-0" id="mail-body">
                    <div id="mail-text"></div>
                </div>
            </div>
        </div>
    </div>

    {% endblock %}

    {% block script %}
    <script src="{% static 'mail/inbox.js' %}"></script>
    <script src="{% static 'mail/compose.js' %}"></script>
    {% endblock %}